<!-- frontend/document/document.html -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Gestión de Documentos</title>
  <link rel="stylesheet" href="/static/styles.css" />
  <script type="module" src="/static/api.js"></script>
  <script type="module" src="/static/routes.js"></script>
  <script type="module" src="/static/src/features/document/Document.js"></script>
</head>
<body>
  <nav>
    <div class="nav-container">
      <a href="/home" class="logo">Bases de datos</a>
      <ul>
        <li><a href="/home">Inicio</a></li>
        <li><a href="/user">Usuarios</a></li>
        <li><a href="/unit">Unidades</a></li>
        <li><a href="/internship">Internados</a></li>
        <li><a href="/reportes">Reportes</a></li>
        <li><a href="/document">Documentos</a></li>
      </ul>
    </div>
  </nav>

  <div class="container">
    <h1>Documentos</h1>

    <div id="successMessage" class="success-message"></div>
    <div id="errorMessage" class="error-message"></div>

    <!-- Crear documento -->
    <div class="section">
      <h2>Crear Documento</h2>
      <form id="createDocumentForm">
        <div class="form-group">
          <label for="practica_id">Práctica ID *</label>
          <input type="number" id="practica_id" name="practica_id" required />
        </div>
        <div class="form-group">
          <label for="tipo_documento">Tipo de Documento *</label>
          <select id="tipo_documento" name="tipo_documento" required>
            <option value="">-- Selecciona un tipo --</option>
            <option value="bitácora">Bitácora</option>
            <option value="carta de término">Carta de Término</option>
            <option value="kárdex">Kárdex</option>
            <option value="certificado">Certificado</option>
          </select>
        </div>

        <div class="form-group">
          <label for="ruta">Ruta *</label>
          <input type="file" id="ruta" name="ruta" required />
        </div>
        <div class="form-group">
          <label for="es_verificado">¿Está Verificado?</label>
          <select id="es_verificado" name="es_verificado">
            <option value="false">No</option>
            <option value="true">Sí</option>
          </select>
        </div>
        <button type="submit">Crear Documento</button>
      </form>
    </div>

    <!-- Lista de documentos -->
    <div class="section">
      <h2>Lista de Documentos</h2>
      <button id="refreshDocuments">Actualizar Lista</button>
      <div id="documentsList">
        <table>
          <thead>
            <tr>
              <th>ID</th>
              <th>Práctica ID</th>
              <th>Tipo</th>
              <th>Ruta</th>
              <th>Verificado</th>
            </tr>
          </thead>
          <tbody id="documentsTableBody">
            <!-- Documentos se renderizan aquí -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- Detalles de documento -->
    <div class="section">
      <h2>Detalles de Documento</h2>
      <div class="form-group">
        <label for="documentId">ID del Documento</label>
        <input type="number" id="documentId" name="documentId" min="1" />
        <button id="getDocumentDetails">Ver Detalles</button>
      </div>
      <div id="documentDetails" style="margin-top: 20px;">
        <!-- Detalles renderizados aquí -->
      </div>
    </div>

    <!-- Actualizar documento -->
    <div class="section">
      <h2>Actualizar Documento</h2>
      <div class="form-group">
        <label for="updateDocumentId">ID del Documento a Actualizar *</label>
        <input type="number" id="updateDocumentId" name="updateDocumentId" min="1" required />
        <button id="loadDocumentForUpdate">Cargar Datos</button>
      </div>
      <form id="updateDocumentForm" style="margin-top: 20px;">
        <div class="form-group">
          <label for="update_practica_id">Práctica ID</label>
          <input type="number" id="update_practica_id" name="practica_id" />
        </div>         
        <div class="form-group">
          <label for="update_tipo_documento">Tipo de Documento *</label>
          <select id="update_tipo_documento" name="tipo_documento" required>
            <option value="">-- Selecciona un tipo --</option>
            <option value="bitácora">Bitácora</option>
            <option value="carta de término">Carta de Término</option>
            <option value="kárdex">Kárdex</option>
            <option value="certificado">Certificado</option>
          </select>
        </div>
        <div class="form-group">
          <label for="update_ruta">Ruta</label>
          <input type="file" id="update_ruta" name="ruta" />
          <div id="archivo_actual_info" class="archivo-info"></div>
        </div>
        <div class="form-group">
          <label for="update_es_verificado">¿Está Verificado?</label>
          <select id="update_es_verificado" name="es_verificado">
            <option value="false">No</option>
            <option value="true">Sí</option>
          </select>
        </div>
        <button type="submit">Actualizar Documento</button>
      </form>
    </div>

    <!-- Eliminar documento -->
    <div class="section">
      <h2>Eliminar Documento</h2>
      <div class="form-group">
        <label for="deleteDocumentId">ID del Documento a Eliminar</label>
        <input type="number" id="deleteDocumentId" name="deleteDocumentId" min="1" required />
      </div>
      <button id="deleteDocumentBtn" class="delete-btn">Eliminar Documento</button>
    </div>
  </div>
</body>
</html>
